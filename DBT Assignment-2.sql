create database Assignment2;
use Assignment2;
CREATE TABLE PUBLISHERS
(
    PUBID INT(3) PRIMARY KEY,
    PNAME  VARCHAR(30),
    EMAIL  VARCHAR(50)  UNIQUE,
    PHONE  VARCHAR(30)
);
CREATE TABLE  SUBJECTS
(
    SUBID VARCHAR(5) PRIMARY KEY,
    SNAME VARCHAR(30)
);

CREATE TABLE  AUTHORS
(
    AUID INT(5)  PRIMARY KEY,
    ANAME  VARCHAR(30),
    EMAIL  VARCHAR(50)  UNIQUE,
    PHONE  VARCHAR(30)
);

CREATE TABLE  TITLES
(
    TITLEID INT(5) PRIMARY KEY,
    TITLE VARCHAR(30),
    PUBID INT(3),
    SUBID VARCHAR(5),
    PUBDATE DATE,
    COVER CHAR(1)  CHECK( COVER IN ('P','H','p','h')),
    PRICE  INT(4),
	CONSTRAINT TITLES_PUBID_FK FOREIGN KEY (PUBID) REFERENCES PUBLISHERS(PUBID),
	CONSTRAINT TITLES_SUBID_FK FOREIGN KEY (SUBID) REFERENCES SUBJECTS(SUBID)
);

CREATE TABLE  SUBJECTS_BACKUP
(
    SUBID  VARCHAR(5) PRIMARY KEY,
    SNAME VARCHAR(30)
);

CREATE TABLE  TITLEAUTHORS
(
    TITLEID    INT(5) ,
    AUID       INT(5) ,
    IMPORTANCE INT(2),
   PRIMARY KEY(TITLEID,AUID)
 );
ALTER TABLE TITLEAUTHORS ADD CONSTRAINT  TITLESAUTHORS_TITLEID_FK FOREIGN KEY (TITLEID) REFERENCES TITLES(TITLEID);
ALTER TABLE TITLEAUTHORS ADD CONSTRAINT  TITLESAUTHORS_AUTHID_FK FOREIGN KEY (AUID) REFERENCES AUTHORS(AUID);


INSERT INTO TITLEAUTHORS VALUES (1001,104,1);
INSERT INTO TITLEAUTHORS VALUES (1002,105,1);
INSERT INTO TITLEAUTHORS VALUES (1003,106,1);
INSERT INTO TITLEAUTHORS VALUES (1004,101,1);
INSERT INTO TITLEAUTHORS VALUES (1005,103,1);
INSERT INTO TITLEAUTHORS VALUES (1005,102,2);




INSERT INTO SUBJECTS VALUES ('ORA','ORACLE DATABASE 10g');
INSERT INTO SUBJECTS VALUES ('JAVA','JAVA LANGUAGE');
INSERT INTO SUBJECTS VALUES ('JEE','JAVA ENTEPRISE EDITION');
INSERT INTO SUBJECTS VALUES ('VB','VISUAL BASIC.NET');
INSERT INTO SUBJECTS VALUES ('ASP','ASP.NET');

INSERT INTO PUBLISHERS VALUES (1,'WILLEY','WDT@VSNL.NET','91-11-23260877');
INSERT INTO PUBLISHERS VALUES (2,'WROX','INFO@WROX.COM',NULL);
INSERT INTO PUBLISHERS VALUES (3,'TATA MCGRAW-HILL','FEEDBACK@TATAMCGRAWHILL.COM','91-11-33333322');
INSERT INTO PUBLISHERS VALUES (4,'TECHMEDIA','BOOKS@TECHMEDIA.COM','91-11-33257660');

INSERT INTO AUTHORS VALUES (101, 'HERBERT SCHILD','HERBERT@YAHOO.COM',NULL);
INSERT INTO AUTHORS VALUES (102, 'JAMES GOODWILL','GOODWILL@HOTMAIL.COM',NULL);
INSERT INTO AUTHORS VALUES (103, 'DAVAID HUNTER','HUNTER@HOTMAIL.COM',NULL);
INSERT INTO AUTHORS VALUES (104, 'STEPHEN WALTHER','WALTHER@GMAIL.COM',NULL);
INSERT INTO AUTHORS VALUES (105, 'KEVIN LONEY','LONEY@ORACLE.COM',NULL);
INSERT INTO AUTHORS VALUES (106, 'ED. ROMANS','ROMANS@THESERVERSIDE.COM',NULL);

INSERT INTO TITLES VALUES (1001,'ASP.NET UNLEASHED',4,'ASP','2012-04-02','P',540);
INSERT INTO TITLES VALUES (1002,'ORACLE10G COMP. REF.',3,'ORA','2005-05-01','P',575);
INSERT INTO TITLES VALUES (1003,'MASTERING EJB',1,'JEE','2005-02-03','P',475);
INSERT INTO TITLES VALUES (1004,'JAVA COMP. REF',3,'JAVA','2005-04-03','P',499);
INSERT INTO TITLES VALUES (1005,'PRO. VB.NET',2,'VB','2005-06-15','P',450);

INSERT INTO TITLEAUTHORS VALUES (1001,104,1);
INSERT INTO TITLEAUTHORS VALUES (1002,105,1);
INSERT INTO TITLEAUTHORS VALUES (1003,106,1);
INSERT INTO TITLEAUTHORS VALUES (1004,101,1);
INSERT INTO TITLEAUTHORS VALUES (1005,103,1);
INSERT INTO TITLEAUTHORS VALUES (1005,102,2);

Select pname,phone,email from PUBLISHERS;


select *from subjects where sname like '%ORACLE%';
select *from subjects where sname  like 'j%';
select *from subjects where sname  like '%.net%';
select *from authors where aname  like '%er';
select *from publishers where pname  like '%hill%';

select title from titles where price < 500;
select title from titles where PUBDATE < '2005-04-03';
select sname from subjects where SUBID ='java' or  SUBID = 'jee';
select aname from authors where AUID > 103;
select * from titles  where titleid > 101 or price > 400;


select * from publishers where pname in ('techmedia', 'wrox');

select max(price) maxprice from titles;
select avg(importance) avgimportance from titleauthors;
select  * from authors;
select sum(price) sumbooks from titles;

select title from titles where month(PUBDATE)=04;
select year(current_date());
select month(current_date());

CREATE TABLE Employee (
emp_id int(4),
emp_name char(50) 
);
insert into  Employee values(1,'SWAPNIL SUPEKAR');
insert into  Employee values(2,'VIPUL RANE');
insert into  Employee values(3,'TEJAS RANE');

alter table employee add column dep_id int(1) ;
alter table employee modify column emp_name varchar(50);
alter table employee rename Scott;

SET FOREIGN_KEY_CHECKS = 0; 
TRUNCATE table Scott; 
SET FOREIGN_KEY_CHECKS = 1;

create table Emp( SAL float(7,3));
insert into Emp values(1234.567);
insert into Emp values(1530.567);
insert into Emp values(1652.786);
insert into Emp values(1775.15);
select * from Emp;

SELECT ROUND(1234.567,-1) AS RoundValue;
SELECT ROUND(1234.567,2) AS RoundValue;

SELECT CEIL(1775.15) AS CeilValue;
SELECT CEIL(1652.786) AS CeilValue;

SELECT CEILING(1775.15) AS CeilValue;
SELECT CEILING(1652.786) AS CeilValue;

SELECT FLOOR(25.75) AS FloorValue;
SELECT FLOOR(25.175) AS FloorValue;

SELECT SIGN(15);
SELECT SIGN(-15);

SELECT 17 MOD 5;

SELECT SQRT(625);

SELECT POWER(4,-2);
SELECT POWER(4,2);

SELECT ASCII('CDAC juhu');
SELECT char_length('CDAC juhu')AS LengthOfName;
SELECT concat('CDAC','juhu') AS ConcatenatedString;
SELECT concat_ws('-','CDAC','juhu') AS ConcatenatedString;
SELECT REVERSE ('CDAC juhu')AS ReverseString;
SELECT length('CDAC juhu') AS LengthOfString;
SELECT LCASE('CDAC juhu')AS LCASE;
SELECT LOWER('CDAC juhu')AS LowerCase;
SELECT UPPER('CDAC juhu')AS UpperCase;

SELECT NOW() + 1;
SELECT ADDTIME('1997-12-31 23:59:59.999999','1 1:1:1.000002');
SELECT CONVERT_TZ('2004-01-01 12:00:00','GMT','MET');
SELECT CONVERT_TZ('2004-01-01 12:00:00','+00:00','+10:00');
SELECT CURDATE();
SELECT DATE_FORMAT('1997-10-04 22:23:00', '%W %M %Y');
SELECT DAYNAME('1998-02-05');
SELECT MONTHNAME('1998-02-05');
SELECT DAYOFWEEK('1998-02-03');
SELECT DAYOFYEAR('1998-02-03');
SELECT EXTRACT(YEAR FROM '1999-07-02');










 
















